# Optional Username Design

## Summary

Add optional username to comments. Users can set a custom username (persisted in Chrome storage) or get an auto-generated Serbian car-themed one (e.g. "Golf423", "Punto87"). Auto-generated names are visually distinct (italic/muted) so they're obviously system-assigned.

## Decisions

- **Persistence:** Username persists in Chrome storage, sent with each comment
- **UI location:** Small input above comment textarea in PostForm
- **Random style:** Car brand/model + 2-3 digit number (Serbian car culture themed)
- **Storage:** Username stored on each comment record (not in a separate users table)
- **Auto-generated indicator:** Stored on comment so auto-generated names display differently

## Data Model

Add to `comments` table:
- `username: string` — display name of the author
- `isAutoGenerated: boolean` — whether the username was auto-generated

## Chrome Storage

- `paCommentsUsername: string` — current username
- `paCommentsUsernameAutoGenerated: boolean` — whether it was auto-generated (flips to false when user edits)

On first load: if no username in storage, generate random one and save with autoGenerated=true.

## Random Name Generator

Utility function: pick random car brand/model from hardcoded list + random 2-3 digit number.

Example brands/models: Golf, Punto, Pezo, Astra, Jugo, Stojadin, Fica, Yugo, Clio, Megane, Octavia, Fabia, Polo, Corsa, Leon, Ibiza, Tipo, Brava, Uno, Kadett, Lada, Niva, Zastava, Skala, Koral

## PostForm Changes

Add a text input above the textarea:
- Shows current username
- Editable — when user types a custom name, save to Chrome storage with autoGenerated=false
- Placeholder: "Username (optional)"
- If cleared and submitted, regenerate a random name

## CommentItem Changes

Display username next to (or replacing) the avatar area:
- Custom usernames: normal weight, standard color
- Auto-generated usernames: italic, muted color

## Backend Changes

`postComment` mutation: add `username: string` and `isAutoGenerated: boolean` args. Store on comment record.

`getComments` query: already returns all comment fields, so `username` and `isAutoGenerated` come through automatically.
