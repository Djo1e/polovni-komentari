# Seed Comments Script Design

## Goal
Create a reusable CLI script that populates the database with ~50-60 authentic-looking Serbian comments across 10-12 real polovniautomobili.com listings, so the extension looks like it has organic traction.

## Architecture

Single TypeScript script: `extension/scripts/seed-comments.ts`

Run with: `npx tsx extension/scripts/seed-comments.ts`

### Dependencies
- `@anthropic-ai/sdk` - Claude API for generating comments
- `convex/browser` (ConvexHttpClient) - post data to Convex backend
- `ANTHROPIC_API_KEY` env var
- Convex deployment URL from `extension/.env.local`

## Data Flow

```
Script starts
  -> For each listing (10-12 from hardcoded list):
      1. Upsert listing data via api.listings.upsertListing
      2. Call Claude API: generate 3-5 comments for this car
      3. Post each comment via api.comments.seedComment with:
         - Random authorId (uuid)
         - Random username (CAR_BRANDS pattern: Golf452, Punto789)
         - Random timestamp in past 14 days
         - isAutoGenerated: false
      4. For ~30% of top-level comments, generate 1 reply
         - Different authorId/username
         - Timestamp slightly after parent
```

## Comment Generation

Claude API prompt includes:
- Serbian car forum style (casual, direct, uses slang)
- Comment types: price reactions, mechanical opinions, questions, compliments, warnings
- Max ~150 chars per comment
- Contextual to the specific car (model, price, year)

Style references: autoforum.rs, mojagaraza.rs forum tone.

## Backend Changes

New internal mutation `seedComment` in `convex/comments.ts` that accepts a `createdAt` parameter. Keeps the production `postComment` mutation unchanged.

## Listings Data

Hardcoded array of 10-12 real listings scraped from polovniautomobili.com landing page, including: listingId, title, price, imageUrl, url.
